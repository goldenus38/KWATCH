# ============================================
# KWATCH 환경변수 설정
# 이 파일을 복사하여 .env로 사용하세요:
#   cp .env.example .env
# ============================================

# Database
DATABASE_URL=postgresql://kwatch:password@localhost:5432/kwatch
DB_PASSWORD=password

# Redis
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=24h

# Server
PORT=3001
NODE_ENV=development
ALLOWED_ORIGINS=http://localhost:3000

# SSL (관제 시스템은 SSL 인증서 유효성 검증이 목적이 아니므로 우회)
NODE_TLS_REJECT_UNAUTHORIZED=0

# Screenshot
SCREENSHOT_DIR=./screenshots
SCREENSHOT_VIEWPORT_WIDTH=1920
SCREENSHOT_VIEWPORT_HEIGHT=1080
SCREENSHOT_TIMEOUT=30000

# Monitoring
DEFAULT_CHECK_INTERVAL=300
DEFAULT_TIMEOUT=30
DEFACEMENT_THRESHOLD=80
RESPONSE_TIME_WARNING_MS=10000

# Hybrid Defacement Detection (가중치 합계 = 1.0)
DEFACEMENT_WEIGHT_PIXEL=0.3
DEFACEMENT_WEIGHT_STRUCTURAL=0.3
DEFACEMENT_WEIGHT_CRITICAL=0.4
HTML_ANALYSIS_ENABLED=true

# Stagger Window (서버 시작 시 모든 사이트의 첫 실행을 이 시간에 걸쳐 분산, 초)
STAGGER_WINDOW_SECONDS=60

# Worker Concurrency (1000개 사이트 기준 권장값)
MONITORING_CONCURRENCY=20
SCREENSHOT_CONCURRENCY=10
DEFACEMENT_CONCURRENCY=8

# Alert Channels
ALERT_EMAIL_SMTP_HOST=
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_FROM=
ALERT_EMAIL_USER=
ALERT_EMAIL_PASS=
ALERT_SLACK_WEBHOOK_URL=
ALERT_TELEGRAM_BOT_TOKEN=
ALERT_TELEGRAM_CHAT_ID=

# Dashboard
DASHBOARD_TOKEN=
DASHBOARD_AUTO_ROTATE_INTERVAL=15000
DASHBOARD_ITEMS_PER_PAGE=35

# Next.js (Frontend)
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3001
